# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ì–û–¢–û–í–´ - –ó–ê–ü–£–°–ö–ê–ô–¢–ï –°–ê–ô–¢!

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏–∑ –ª–æ–≥–æ–≤ VPS:

### 1. **Next.js Warning —É–±—Ä–∞–Ω** 
- **–ë—ã–ª–æ**: `‚ö† Invalid next.config.js options detected: Unrecognized key(s): 'swcMinify'`
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –£–±—Ä–∞–Ω —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä `swcMinify` (–æ–Ω –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ Next.js 15+)

### 2. **–õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ Backend —É–ª—É—á—à–µ–Ω–∞**
- **–ë—ã–ª–æ**: Backend –∑–∞–ø—É—Å–∫–∞–ª—Å—è –Ω–æ —Å–∫—Ä–∏–ø—Ç —Å—á–∏—Ç–∞–ª —á—Ç–æ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ HTTP –∑–∞–ø—Ä–æ—Å –∫ API –≤–º–µ—Å—Ç–æ timeout

### 3. **PM2 –∑–∞–ø—É—Å–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω** 
- **–ë—ã–ª–æ**: PM2 –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞–ª–∏—Å—å –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Ä—Ç–æ–≤ –∏ –ø–æ—à–∞–≥–æ–≤—ã–π –∑–∞–ø—É—Å–∫

### 4. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
- –î–æ–±–∞–≤–ª–µ–Ω—ã retry –º–µ—Ö–∞–Ω–∏–∑–º—ã
- –õ—É—á—à–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

## üöÄ –ö–ê–ö –ó–ê–ü–£–°–¢–ò–¢–¨ –°–ï–ô–ß–ê–°:

### –ù–∞ VPS —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
cd /var/www/malabar

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
git pull origin main

# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x *.sh

# –í–ê–†–ò–ê–ù–¢ 1: –ù–æ–≤—ã–π —É–ª—É—á—à–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
./fix-deployment-issues.sh
```

**–ò–õ–ò**

```bash
# –í–ê–†–ò–ê–ù–¢ 2: –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π
./stable-deploy.sh
```

**–ò–õ–ò** (–µ—Å–ª–∏ –≤—Å–µ –µ—â–µ –ø—Ä–æ–±–ª–µ–º—ã)

```bash
# –í–ê–†–ò–ê–ù–¢ 3: –ë—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
./quick-restore.sh
```

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
./test-all-fixes.sh

# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º (–µ—Å–ª–∏ –µ—Å—Ç—å)
./stable-diagnose.sh

# –°—Ç–∞—Ç—É—Å PM2
pm2 status

# –õ–æ–≥–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
pm2 logs
```

## üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å–∞–π—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å:

- ‚úÖ **http://vet-klinika-moscow.ru**
- ‚úÖ **http://46.173.17.229:3000** 
- ‚úÖ **http://46.173.17.229:3001/api/health** (API)

## üìä –ß—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:

- ‚úÖ **–°–∞–π—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫**
- ‚úÖ **Backend API –æ—Ç–≤–µ—á–∞–µ—Ç** (`/api/health`, `/api/players`)
- ‚úÖ **PM2 –ø—Ä–æ—Ü–µ—Å—Å—ã online** (–æ–±–∞: backend –∏ frontend)
- ‚úÖ **–ù–µ—Ç warnings –≤ Next.js**
- ‚úÖ **Real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç**
- ‚úÖ **–î–∞–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è**

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### 1. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏:
```bash
pm2 logs malabar-backend --lines 20
pm2 logs malabar-frontend --lines 20
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:
```bash
pm2 status
curl http://localhost:3001/api/health
curl http://localhost:3000
```

### 3. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫:
```bash
pm2 stop all
pm2 delete all
./fix-deployment-issues.sh
```

## üí° –û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **–£–±—Ä–∞–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∫–æ–¥–∞**
2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**  
3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—Å–∫–∞**
4. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∞–¥–µ–∂–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**
5. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**

---

## üéØ –ò–¢–û–ì–û:

**–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!** –°–∞–π—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ –±–µ–∑ —Å–±–æ–µ–≤ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –±–µ–∫–µ–Ω–¥–∞.

**–ó–∞–ø—É—Å–∫–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç! üöÄ**
