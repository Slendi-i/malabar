#!/bin/bash

echo "üéØ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ë–î –ö–ê–ö –ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô –ò–°–¢–û–ß–ù–ò–ö –ò–°–¢–ò–ù–´"
echo "=================================================="

echo "1Ô∏è‚É£ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ —Å GitHub..."
cd /var/www/malabar
git fetch origin main
git reset --hard origin/main

echo ""
echo "2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π..."
echo "‚úÖ PlayerProfileModal: —É–±—Ä–∞–Ω–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è"
echo "‚úÖ Sidebar: —É–±—Ä–∞–Ω–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è"
echo "‚úÖ PlayerIcons: —É–±—Ä–∞–Ω–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è"
echo "‚úÖ Real-time sync: —É–±—Ä–∞–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏–∑ –ë–î"
echo "‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ë–î"

echo ""
echo "3Ô∏è‚É£ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ frontend –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π..."
pm2 restart malabar-frontend-dev

echo ""
echo "4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞..."
pm2 status

echo ""
echo "5Ô∏è‚É£ –¢–µ—Å—Ç API..."
curl -s http://localhost:3001/api/health | head -1
curl -s http://localhost:3001/api/players | jq length 2>/dev/null || echo "Players count: $(curl -s http://localhost:3001/api/players | grep -o '\"id\"' | wc -l)"

echo ""
echo "‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û!"
echo ""
echo "üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:"
echo "1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç: http://46.173.17.229:3000"
echo "2. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ admin/admin"
echo "3. –ò–∑–º–µ–Ω–∏—Ç–µ –∏–º—è –∏–≥—Ä–æ–∫–∞ –≤ –ø—Ä–æ—Ñ–∏–ª–µ"
echo "4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ù–ï —Å–∫–∞—á—É—Ç –∏ –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è"
echo "5. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –¥—Ä—É–≥–æ–º –±—Ä–∞—É–∑–µ—Ä–µ/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ"
echo "6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å"
echo ""
echo "üìä –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:"
echo "- –ë–î —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏—Å—Ç–∏–Ω—ã"
echo "- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ë–î"
echo "- Real-time sync –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î"
echo "- –ù–ï–¢ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –ë–î"
echo "- –î–∞–Ω–Ω—ã–µ –ù–ï —Å–∫–∞—á—É—Ç –∏ –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é"
echo -e "- –°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π\n"
